<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Naoki Otsu</title>
  <subtitle>フロントエンド(HTML,CSS,JavaScript)を中心に。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-12-03T12:49:27.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Naoki Otsu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ローカルにPHP環境構築してBrowserSyncでLiveReload</title>
    <link href="http://yoursite.com/2016/11/28/local-php-browser-sync/"/>
    <id>http://yoursite.com/2016/11/28/local-php-browser-sync/</id>
    <published>2016-11-28T12:49:03.000Z</published>
    <updated>2016-12-03T12:49:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>MacのローカルにPHP環境構築して、<a href="https://www.browsersync.io/" target="_blank">BrowserSync</a>でLiveReloadさせた時のMEMO。</p>
<p>調べた結果、<a href="https://www.npmjs.com/package/gulp-connect-php" target="_blank">gulp-connect-php</a>を使うのが早そうだった。</p>
<pre><code class="shell">$ yarn init -y
$ yarn add -D gulp gulp-connect-php browser-sync
</code></pre>

<p><strong>gulpfile.js</strong></p>
<pre><code class="js">var gulp        = require('gulp');
var connect     = require('gulp-connect-php');
var browserSync = require('browser-sync').create();

gulp.task('connect-sync', function() {
  connect.server({}, function() {
    browserSync.init({
      proxy: '127.0.0.1:8000'
    });
  });

  gulp.watch(['./*.php', './*.css', './*.js']).on('change', browserSync.reload);
});

gulp.task('default', ['connect-sync']);
</code></pre>

<p>これで <code>gulp</code> を叩いたら無事に構築出来ました。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MacのローカルにPHP環境構築して、&lt;a href=&quot;https://www.browsersync.io/&quot; target=&quot;_blank&quot;&gt;BrowserSync&lt;/a&gt;でLiveReloadさせた時のMEMO。&lt;/p&gt;
&lt;p&gt;調べた結果、&lt;a href=&quot;https
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Youtubeの再生リストの動画を一覧表示する &amp;#124; Youtube Data API v3</title>
    <link href="http://yoursite.com/2016/11/13/youtube-play-list-youtube-data-api-v3/"/>
    <id>http://yoursite.com/2016/11/13/youtube-play-list-youtube-data-api-v3/</id>
    <published>2016-11-13T12:48:04.000Z</published>
    <updated>2016-12-03T12:48:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>自分のプライベートなプロダクトで、<br>Youtubeの再生リストの動画を一覧表示する機能が入れる必要があって、<br><a href="https://developers.google.com/youtube/v3/getting-started?hl=ja" target="_blank">Youtube Data API v3 のガイド</a>を見ながらやっていたが、<br>若干の分かり辛さがあって、スムーズに行かなかったので結論の実装方法をメモしておくことに。</p>
<h2><strong>【結論】</strong></h2>

<p>下記の4ステップを踏むと良かった。</p>
<h3><strong>1. APIキーを取得する</strong></h3>

<p><a href="https://developers.google.com/youtube/registering_an_application?hl=ja" target="_blank">こちら</a>の手順を踏んで、APIキーを取得する。</p>
<h3><strong>2. 表示したい動画のリクエストURLを<a href="https://developers.google.com/youtube/v3/docs/?hl=ja" target="_blank">リファレンス</a>から調べる</strong></h3>

<p>自分の場合は、再生リストの一覧が欲しかったので、<a href="https://developers.google.com/youtube/v3/docs/playlistItems/list?hl=ja" target="_blank">こちら</a>のリクエストURLが必要だった。</p>
<pre><code class="php">GET https://www.googleapis.com/youtube/v3/playlistItems
</code></pre>

<p>GET形式で、このURLにリクエストをすれば良いようだ。</p>
<h3><strong>3. 再生リストのIDを調べる</strong></h3>

<p>再生リストを表示したい場合は、再生リストIDというのが必要なようだった。<br>チャンネルIDとかも必要なのかなと思っていたが、それは必要なかった。</p>
<p>再生リストIDは、例えば<br><a href="https://www.youtube.com/playlist?list=PLlVlyGVtvuVnAx-u38QOieyVIrMEmzuDx" target="_blank">https://www.youtube.com/playlist?list=PLlVlyGVtvuVnAx-u38QOieyVIrMEmzuDx</a><br>の再生リストのIDは、</p>
<pre><code>PLlVlyGVtvuVnAx-u38QOieyVIrMEmzuDx
</code></pre>

<p>のように、URLの最後の部分になるようだ。</p>
<h3><strong>4. Ajaxでリクエストを投げてレスポンスを表示する</strong></h3>

<p>Youtube Data API v3のガイドだと、リクエストURLに <code>?part=</code> とかを付けて、受け取ってねとあったが、<br>jQueryとかだと、下記のようにリクエストを投げても、無事に欲しいレスポンスが返ってくるので、自分はこっちで実装した。</p>
<pre><code class="js">$.ajax({
  type: 'get',
  url: 'https://www.googleapis.com/youtube/v3/playlistItems', // リクエストURL
  dataType: 'json',
  data: {
    part: 'snippet', // partは必須で指定が必要とのこと。レスポンスで返してもらいたいデータをカンマ区切りで指定する。snippetがあればとりあえず動画を再生するレスポンスが受け取れる。
    playlistId: 'PLlVlyGVtvuVnAx-u38QOieyVIrMEmzuDx', // 再生リストID
    maxResults: 20, // デフォルトは5件までしか受け取らないので、取得件数を変更
    key: '{APIキー}'
  }
}).done(function(response) {
  // 成功
}).fail(function() {
  // エラー
});
</code></pre>

<p>これで入力項目が問題なければ、成功するので、<br>あとは、返ってきた <code>response</code> から動画を表示させれば良い。</p>
<pre><code class="js">response.items.forEach(function(item) {
    var id = item.snippet.resourceId.videoId;
    $('#list').append('&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/'+ id +'" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;');
});
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;自分のプライベートなプロダクトで、&lt;br&gt;Youtubeの再生リストの動画を一覧表示する機能が入れる必要があって、&lt;br&gt;&lt;a href=&quot;https://developers.google.com/youtube/v3/getting-started?hl=ja&quot; tar
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Font Awesomeで、「Failed to decode downloaded font」が出てしまう時</title>
    <link href="http://yoursite.com/2016/11/11/font-awesome-error/"/>
    <id>http://yoursite.com/2016/11/11/font-awesome-error/</id>
    <published>2016-11-11T12:46:57.000Z</published>
    <updated>2016-12-03T12:47:25.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://fontawesome.io/" target="_blank">Font Awesome</a>を使っていて、本番サイトで確認しようとしたら、<br>フォントが正しく出ていない… ローカルでは大丈夫だったのに..</p>
<p>そして、コンソールを見たら、<br><strong>「Failed to decode downloaded font」</strong><br>とか<br><strong>「OTS parsing error: incorrect file size in WOFF header」</strong><br>とか出ている様子。</p>
<p><strong>【原因】</strong><br>調べてみると、gitの改行コードを変換する仕組みによって起きてる模様だった。<br>参考: <a href="http://ts0818.hatenablog.com/entry/2016/04/01/225341" target="_blank">『Failed to decode downloaded font』から始まるエラー</a></p>
<p><strong>【対策】</strong><br>gitのルートディレクトリにある、「.gitattributes」ファイルを開いて、<br>変換しないように下記を追加してあげると問題なかった。</p>
<pre><code># Denote all files that are truly binary and should not be modified.
... 中略
*.otf binary
*.eot binary
*.svg binary
*.ttf binary
*.woff binary
*.woff2 binary
</code></pre>

<p>もう一度、正しいフォントを格納して、git pushして確認したところ無事解決でした。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://fontawesome.io/&quot; target=&quot;_blank&quot;&gt;Font Awesome&lt;/a&gt;を使っていて、本番サイトで確認しようとしたら、&lt;br&gt;フォントが正しく出ていない… ローカルでは大丈夫だったのに..&lt;/p&gt;
&lt;p&gt;そして、コン
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ソフトバンク 孫社長</title>
    <link href="http://yoursite.com/2016/11/01/softbank-son-president/"/>
    <id>http://yoursite.com/2016/11/01/softbank-son-president/</id>
    <published>2016-11-01T12:46:03.000Z</published>
    <updated>2016-12-03T12:46:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>[[embed]<a href="https://www.youtube.com/watch?v=zhrz8KdUB4w[/embed" target="_blank" rel="external">https://www.youtube.com/watch?v=zhrz8KdUB4w[/embed</a>]</p>
<p>孫社長はずっと前から尊敬している事業家のお一人で、<br>東京ビックサイトで行われたソフトバンクBBの入社式で、豆粒ぐらいとても遠くでお話されていたのにすごく感動したのを思い出す。</p>
<p>本や雑誌でも様々なことを学ばせて頂いてるけども、<br>この動画でおっしゃってる事や考えが原点にあるような気がしていて、これまでにも何度も見た。</p>
<p>お金とか地位とか名誉とかそんなことじゃなく、自分がやりたいと思った事を貫くかっこよさ。<br>自分が死ぬ前に、あ〜無難に生きたな、出世できたなとかそんな小さな事じゃなく、<br>心からやりたい事を本気でやったなと思って死にたい。<br>そんな想いをこの動画から感じる。</p>
<p>そんな孫社長が何かの折に「流行りのおっかけ屋さん」という表現をおっしゃっていたのを聞いて、そのフレーズに自分の中ではドキっとした。<br>それは自分の今の職業(フロントエンドエンジニア)やITという業界そのものが、流行りのおっかけ要素が満載だからだろう。<br>決して今の職業や業界が嫌いとかじゃなく大好きなんだけど、技術はあくまで手段で、<br>「何をユーザーに提供したのか？」ってところがほんとに大事で、その部分の意識の持ち方によって日々の過ごし方もガラっと変わってきそうだ。</p>
<p>高い技術はもちろん大切。<br>でも高い技術を持つより大切なのは、もっと愚直に使ってくれているユーザーさんに目を向けた企画、開発で、<br>場合によっては、技術自体は全然たいした事ないんだけど、ユーザーさんにとっては最高の体験を提供している事が全然有り得ると思う。<br>だからこそ、そこに対して日々向き合っていかなければいけないなと感じた。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;[[embed]&lt;a href=&quot;https://www.youtube.com/watch?v=zhrz8KdUB4w[/embed&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.youtube.com/watch?v=zhrz8
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>CakePHP3とBrowserSyncでのLiveReload</title>
    <link href="http://yoursite.com/2016/10/29/cakephp3-browser-sync-live-reload/"/>
    <id>http://yoursite.com/2016/10/29/cakephp3-browser-sync-live-reload/</id>
    <published>2016-10-29T12:45:10.000Z</published>
    <updated>2016-12-03T12:45:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>[CakePHP3でWebアプリの開発をしていたが、<br>BrowserSyncを使ってLiveReloadさせて効率よく開発していきたい。そんな時のMEMO。</p>
<p>CakePHPでは</p>
<pre><code>bin/cake server
</code></pre>

<p>で、デフォルトは、 <code>localhost:8765</code> のサーバーが立ち上がるが、</p>
<p>まずはこれを、</p>
<pre><code>bin/cake server -H {IPアドレス} -p 8765
</code></pre>

<p>で起動させて、 {IPアドレス}:8765 で立ち上げておく。</p>
<p>そしてBrowserSync側では、optionsのproxyとportを設定すれば良さそう。</p>
<pre><code>{
    proxy: "{IPアドレス}:8765",
    port: 4000
}
</code></pre>

<p>これでBrowserSyncをstartさせたら、<br><a href="http://{IPアドレス}:4000/" target="_blank" rel="external">http://{IPアドレス}:4000/</a> もしくは <a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a> へのアクセスで問題なくLiveReload出来た。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;[CakePHP3でWebアプリの開発をしていたが、&lt;br&gt;BrowserSyncを使ってLiveReloadさせて効率よく開発していきたい。そんな時のMEMO。&lt;/p&gt;
&lt;p&gt;CakePHPでは&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bin/cake server
&lt;/code&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Vagrantで開発環境構築(PHP+Mysql) &amp;#124; VirtualBox</title>
    <link href="http://yoursite.com/2016/10/25/vagrant-php-mysql-virtualbox/"/>
    <id>http://yoursite.com/2016/10/25/vagrant-php-mysql-virtualbox/</id>
    <published>2016-10-25T12:44:12.000Z</published>
    <updated>2016-12-03T12:44:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>[開発環境構築のメモ。</p>
<p>こちらの記事を参考に構築。<br><a href="http://fnya.cocolog-nifty.com/blog/2015/12/vagrant-centos7.html" target="_blank" rel="external">http://fnya.cocolog-nifty.com/blog/2015/12/vagrant-centos7.html</a></p>
<p>シンボリックリンクを貼って、ローカルPCからファイル編集出来るようにするのに、下記を参照。<br><a href="http://qiita.com/tiwu_official/items/f135e6b6fbbe3ec6aa54#8%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AA%E3%83%83%E3%82%AF%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AE%E4%BD%9C%E6%88%90" target="_blank" rel="external">http://qiita.com/tiwu_official/items/f135e6b6fbbe3ec6aa54#8%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AA%E3%83%83%E3%82%AF%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AE%E4%BD%9C%E6%88%90</a></p>
<p>ただファイル共有が使えないエラーが出てた。ので下記を参考に解決。<br><a href="http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest" target="_blank" rel="external">http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;[開発環境構築のメモ。&lt;/p&gt;
&lt;p&gt;こちらの記事を参考に構築。&lt;br&gt;&lt;a href=&quot;http://fnya.cocolog-nifty.com/blog/2015/12/vagrant-centos7.html&quot; target=&quot;_blank&quot; rel=&quot;extern
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JavaScriptで要素の入れ替え | replaceChild, cloneNode</title>
    <link href="http://yoursite.com/2016/09/24/javascript-replace-child-clone-node/"/>
    <id>http://yoursite.com/2016/09/24/javascript-replace-child-clone-node/</id>
    <published>2016-09-24T12:42:55.000Z</published>
    <updated>2016-12-03T12:43:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>[ピュア(Vanilla)なJavaScriptでの要素の入れ替えのMEMO。<br>例えばAとBの要素を入れ替えたい時など。</p>
<pre><code class="js">var clone_A = element_A.cloneNode(true);
var clone_B = element_B.cloneNode(true);

element_A.parentNode.replaceChild(clone_A, element_B);
element_B.parentNode.replaceChild(clone_B, element_A);
</code></pre>

<p>cloneNodeで要素のクローンを作った後に、replaceChildで置換する。<br>cloneNodeの引数は、nodeの子孫ノードも複製する場合はtrue 、 nodeのみを複製する場合はfalseとなる。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;[ピュア(Vanilla)なJavaScriptでの要素の入れ替えのMEMO。&lt;br&gt;例えばAとBの要素を入れ替えたい時など。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;var clone_A = element_A.cloneNode(true);
var cl
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JavaScriptで配列をシャッフルさせる</title>
    <link href="http://yoursite.com/2016/09/22/javascript-array-shuffle/"/>
    <id>http://yoursite.com/2016/09/22/javascript-array-shuffle/</id>
    <published>2016-09-22T12:41:44.000Z</published>
    <updated>2016-12-03T12:42:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>[ピュア(Vanilla)なJavaScriptでの配列のシャッフル。</p>
<pre><code>var targets = [1,2,3,4,5];
var results = [];
while (targets.length) {
    results.push(targets.splice(Math.floor(Math.random() * targets.length), 1)[0]);
}
console.log(results); // 例: [5, 1, 4, 3, 2]
</code></pre>

<p>※ただこのやり方だと全く同じ配列が返されてしまう場合もある。<br>間違いなくシャッフルさせなければいけない時の記述はもう少し複雑になるが、下記を参照。</p>
<p><a href="https://h2ham.net/javascript-%E3%81%A7%E9%85%8D%E5%88%97%E3%81%AE%E3%82%B7%E3%83%A3%E3%83%83%E3%83%95%E3%83%AB" target="_blank" rel="external">JavaScriptで配列のシャッフル</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;[ピュア(Vanilla)なJavaScriptでの配列のシャッフル。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var targets = [1,2,3,4,5];
var results = [];
while (targets.length) {
    results.push
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JavaScriptでペアな配列を作る時のMEMO</title>
    <link href="http://yoursite.com/2016/09/22/javascript-pare-array-create/"/>
    <id>http://yoursite.com/2016/09/22/javascript-pare-array-create/</id>
    <published>2016-09-22T12:39:34.000Z</published>
    <updated>2016-12-03T12:41:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>[神経衰弱を作る時のような、[1, 1, 2, 2]のようなペアな値を持った配列が欲しい時の実装MEMO。</p>
<pre><code class="js">var cards = [];
for (var i = 1; i &lt;= 2; i++) {
    cards[cards.length] = i;
    cards[cards.length] = i;
}
console.log(cards); // [1, 1, 2, 2]
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;[神経衰弱を作る時のような、[1, 1, 2, 2]のようなペアな値を持った配列が欲しい時の実装MEMO。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;var cards = [];
for (var i = 1; i &amp;lt;= 2; i++) {
    car
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>addEventListenerに引数を渡しつつremoveEventListenerしたい時</title>
    <link href="http://yoursite.com/2016/09/22/javascript-addeventlistener-param-removeeventlistener/"/>
    <id>http://yoursite.com/2016/09/22/javascript-addeventlistener-param-removeeventlistener/</id>
    <published>2016-09-22T12:38:36.000Z</published>
    <updated>2016-12-03T12:40:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>[全然スマートじゃないからもっと良い方法ありそうだけど、一応備忘録。</p>
<pre><code class="js">element.addEventListener('click', function onClick() {
    onClickHandler(onClick, '渡したい引数');
});

function onClickHandler(func, text) {
    console.log(text); // 渡したい引数
    element.removeEventListener('click', func);
}
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;[全然スマートじゃないからもっと良い方法ありそうだけど、一応備忘録。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;element.addEventListener(&#39;click&#39;, function onClick() {
    onClickHandler(on
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ボタンのデザインを変えずに、クリック領域だけ広げるTips</title>
    <link href="http://yoursite.com/2016/09/18/no-change-button-design-click-scale/"/>
    <id>http://yoursite.com/2016/09/18/no-change-button-design-click-scale/</id>
    <published>2016-09-18T12:37:05.000Z</published>
    <updated>2016-12-03T12:37:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>「<a href="https://www.amazon.co.jp/CSS%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88-%E2%80%9547%E3%81%AE%E3%83%86%E3%82%AF%E3%83%8B%E3%83%83%E3%82%AF%E3%81%A7CSS%E3%82%92%E8%87%AA%E5%9C%A8%E3%81%AB%E6%93%8D%E3%82%8B-Lea-Verou/dp/4873117666/ref=sr_1_1?ie=UTF8&amp;qid=1474188594&amp;sr=8-1&amp;keywords=CSS%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88" target="_blank" rel="external">CSSシークレット</a>」で書かれていた備忘録だが、<br>ボタンのデザインは変えたくない、でもクリックできる領域を広げたい時のTips。</p>
<p>結論、擬似要素を使って下記のように実装する。</p>
<pre><code class="css">.target {
    position: relative;
}
.target:before {
    content: '';
    position: absolute;
    top: -15px; bottom: -15px; right: -15px; left: -15px;
}
</code></pre>

<p>上記の場合、ボタンの周りに15pxクリック領域が出来る。</p>
<p>もしくは、擬似要素を既に使っている時は、ボーダーを使ったやり方もある。</p>
<pre><code class="css">.target {
    border: 15px solid transparent;
}
</code></pre>

<p>この場合、ボタン領域に15pxの透明なボーダーが出来て領域が広がる。</p>
<p>もしこれでボタンの背景が広がってしまう場合は、background-clip: padding-box;を指定することで回避することもできる。</p>
<pre><code class="css">.target {
    border: 15px solid transparent;
    background-clip: padding-box;
}
</code></pre>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;「&lt;a href=&quot;https://www.amazon.co.jp/CSS%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88-%E2%80%9547%E3%81%AE%E3%83%86%E3%82%AF%E3%83
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>SVGで円をアニメーションさせたい時のMEMO</title>
    <link href="http://yoursite.com/2016/09/18/svg-circle-animation/"/>
    <id>http://yoursite.com/2016/09/18/svg-circle-animation/</id>
    <published>2016-09-18T12:35:38.000Z</published>
    <updated>2016-12-03T12:36:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>くるっと回る円のアニメーションを作りたい。</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/2582/b6d35e8d-0301-57c4-e4c3-2b12ed7fafd9.png" alt="Create_a_New_Pen.png"></p>
<p><a href="http://codepen.io/melo15/pen/yJmVEJ" target="_blank" rel="external">http://codepen.io/melo15/pen/yJmVEJ</a></p>
<p>結論、下記のように書くと良い。</p>
<pre><code class="html">&lt;svg width="124" height="124"&gt;
    &lt;circle cx="62" cy="62" r="60" /&gt;
&lt;/svg&gt;
</code></pre>

<pre><code class="css">svg {
    transform: rotate(-90deg);
}

circle {
    fill: transparent;
    stroke: #4fa8df;
    stroke-width: 4;
    animation: circle 1s infinite;
}

@keyframes circle {
  0% { stroke-dasharray: 0 377; }
  99.9%,to { stroke-dasharray: 377 377; }
}
</code></pre>

<p>インラインSVGなので、モダンブラウザは対応していて、<br>IE8以下、Android2系以下辺りは使えなさそう。<br><a href="http://caniuse.com/#feat=svg-html5" target="_blank" rel="external">http://caniuse.com/#feat=svg-html5</a></p>
<p>半径60pxの円を作りたいとすると、<br><code>&lt;svg&gt;</code>の<code>width</code>と<code>height</code>には、<code>60px x 2 = 120px</code><br>これに、のちのち設定する円の外側の線幅(stroke-width)の4pxを足して、124pxを設定する。<br><code>&lt;circle&gt;</code>の<code>cx</code>と<code>cy</code>には、124pxの半分の値を設定し、円を<code>&lt;svg&gt;</code>の中央に配置する。<br><code>r</code>は円の半径で60pxを設定するが、この値によって後々アニメーションさせる時の値が変わってくる。</p>
<p>CSSでは、<br><code>&lt;circle&gt;</code>の<code>fill</code>を<code>transparent</code>にして塗りつぶしなしに設定。<br><code>stroke</code>と<code>stroke-width</code>を指定して、円の外側に線を表示する。<br>これを<code>animation</code>を使って、くるっと回るアニメーションにする。</p>
<p>アニメーションでは、破線を設定する<code>stroke-dasharray</code>を使う。<br><code>stroke-dasharray: 破線の長さ 破線の間隔;</code><br>この破線の長さをアニメーションさせる事で、くるっと回るアニメーションとなる。</p>
<p>この時、破線の間隔の値は、円周の長さを設定する必要があり、計算によって導く。<br>円周の長さは<code>直径 x 3.14</code>で計算する。<br>今回は、<code>120 x 3.14 = 376.8</code>なので、小数点を切り上げて<code>377</code>とした。<br>あとは、破線の長さを0から377までアニメーションさせると、くるっと1周するアニメーションとなる。</p>
<pre><code class="css">@-webkit-keyframes circle {
  0% { stroke-dasharray: 0 377; }
  99.9%,to { stroke-dasharray: 377 377; }
}
</code></pre>

<p>もし、1周ではなく半分のところで止めたい場合は、<code>377 / 2 = 188.5</code>などを設定すると良い。</p>
<p>最後に、そのままだとアニメーションの開始点が90度ずれてしまうので、<br><code>&lt;svg&gt;</code>に<code>transform: rotate(-90deg);</code>を設定して、上からくるっと回るアニメーションにする。</p>
<p>同じようなアニメーションのデモも、CodePenにあったのでメモ。</p>
<p><a href="https://codepen.io/kyledws/pen/Gvelt/" target="_blank" rel="external">https://codepen.io/kyledws/pen/Gvelt/</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;くるっと回る円のアニメーションを作りたい。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://qiita-image-store.s3.amazonaws.com/0/2582/b6d35e8d-0301-57c4-e4c3-2b12ed7fafd9.png&quot; alt=&quot;C
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>border-imageをRetina対応させるときの備忘録</title>
    <link href="http://yoursite.com/2016/09/18/border-image-retina/"/>
    <id>http://yoursite.com/2016/09/18/border-image-retina/</id>
    <published>2016-09-18T12:34:20.000Z</published>
    <updated>2016-12-03T12:34:55.000Z</updated>
    
    <content type="html"><![CDATA[<p>border-imageを使う時は、<br><a href="http://border-image.com/" target="_blank" rel="external">http://border-image.com/</a><br>を使ってCSSソースを生成して貼り付ける事が多いが、<br>このサイトで生成したCSSはRetina対応してない素の画像サイズなので、<br>スマホ制作してる時とかは画像が大きくなっちゃう。</p>
<p>Retina対応する場合は、<code>border-image</code>の数値は変えず、<br><code>border-width</code>の値だけ、1/2とかにすると良いっぽいので、<br>例えば、こうなっていたら↓</p>
<pre><code class="css">border-width: 36px 40px 40px 44px;
</code></pre>

<p>こうする↓</p>
<pre><code class="css">border-width: 18px 20px 20px 22px;
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;border-imageを使う時は、&lt;br&gt;&lt;a href=&quot;http://border-image.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://border-image.com/&lt;/a&gt;&lt;br&gt;を使ってCSSソースを生成して貼り
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>さくっとLiveReload導入メモ</title>
    <link href="http://yoursite.com/2016/09/18/live-reload-browser-sync/"/>
    <id>http://yoursite.com/2016/09/18/live-reload-browser-sync/</id>
    <published>2016-09-18T12:30:35.000Z</published>
    <updated>2016-12-03T12:32:26.000Z</updated>
    
    <content type="html"><![CDATA[<p>さっとローカルサーバーを立ち上げて、LiveReloadさせて作業する時のメモ。</p>
<p>まずは作業場所で、セットアップ。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ npm init -y</div><div class="line">$ npm i -g browser-sync # グローバルに入れてなかったら</div><div class="line">$ npm i -D browser-sync</div></pre></td></tr></table></figure>
<p>package.jsonにシェルを記載。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line">  "live": "browser-sync start --server --no-notify --files \"**/*\""</div><div class="line">&#125;,</div></pre></td></tr></table></figure>
<p><code>npm run live</code>を実行すると、ブラウザが開いてローカルサーバーが立ち上がり、<br>ファイルを監視して、LiveReload開始。<br>Sync時に右上に表示されるお知らせは無くしたかったので、<code>–no-notify</code>を付けてる。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm run live</div></pre></td></tr></table></figure>
<p>オプションを付けたりしたい時は下記から<br><a href="https://www.browsersync.io/docs/command-line#start" target="_blank" rel="external">https://www.browsersync.io/docs/command-line#start</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;さっとローカルサーバーを立ち上げて、LiveReloadさせて作業する時のメモ。&lt;/p&gt;
&lt;p&gt;まずは作業場所で、セットアップ。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>あるボタンを押した時のアニメーション効果を連打しても確実に付けさせたい</title>
    <link href="http://yoursite.com/2016/09/03/button-click-animation/"/>
    <id>http://yoursite.com/2016/09/03/button-click-animation/</id>
    <published>2016-09-03T12:05:17.000Z</published>
    <updated>2016-12-03T12:29:41.000Z</updated>
    
    <content type="html"><![CDATA[<p>あるボタンを押した時に、<br>ぽよんと反応するようなアニメーション効果を与えたい。<br>その要素を押したら、例えば <code>.click-animation</code>のような、ぽよんとするCSSアニメーションを付けたクラスを、付与させる事が多いが、そんな時の実装MEMO。  </p>
<p>要素を押した時に、<code>.click-animation</code>が既に付与されていたら、削除してから付与しないとアニメーションしなく、また削除して即付与してもアニメーションしないので、<code>setTimeout()</code>などで適当な一定時間待って付与する事が多かった。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$(target).removeClass(<span class="string">'click-animation'</span>);</div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $(target).addClass(<span class="string">'click-animation'</span>);</div><div class="line">&#125;, <span class="number">10</span>);</div></pre></td></tr></table></figure>
<p>もしくは、<code>webkitAnimationEnd</code>などを使って、アニメーション後にクラス削除などしていた。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$(target).addClass(<span class="string">'click-animation'</span>);</div><div class="line">$(target).on(<span class="string">'webkitAnimationEnd'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $(target).removeClass(<span class="string">'click-animation'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>ただこれだと連打した場合に反応してくれない場合がある。<br>結論、<code>requestAnimationFrame</code>を使うと良さそう。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$(target).removeClass(<span class="string">'click-animation'</span>);</div><div class="line">requestAnimationFrame(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $(target).addClass(<span class="string">'click-animation'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>これだと高橋名人ばりに連打した場合も確実にアニメーション効果を与える事ができた。<br>ブラウザの次のレンダリングフレームを待ってクラス付与してるから確実ということだろうか。</p>
<p>Google I/O 2016の<a href="https://github.com/GoogleChrome/ui-element-samples/blob/gh-pages/swipeable-cards/cards.js#L166-L175" target="_blank" rel="external">実装サンプル</a>とかでも、<code>requestAnimationFrame</code>を使った要素の付与や削除をやってるようだった。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;あるボタンを押した時に、&lt;br&gt;ぽよんと反応するようなアニメーション効果を与えたい。&lt;br&gt;その要素を押したら、例えば &lt;code&gt;.click-animation&lt;/code&gt;のような、ぽよんとするCSSアニメーションを付けたクラスを、付与させる事が多いが、そんな時の実装
    
    </summary>
    
    
  </entry>
  
</feed>
